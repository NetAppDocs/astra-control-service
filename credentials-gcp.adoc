---
sidebar: sidebar
permalink: credentials-gcp.html
summary: Learn how to create or locate existing GCP credentials so that you can use Project Astra.
---

= Google Cloud Platform (GCP) Credentials
:imagesdir: assets/gcp-credentials/

Project Astra requires that you have a Google Cloud Platform (GCP) project and service account. The service account needs permissions to access specific Google Cloud APIs. This allows Project Astra to interact with GCP resources such as Google Kubernetes Engine (GKE) clusters and NetApp Cloud Volume Service (CVS) storage.

Instead of providing a username and password to Project Astra, you will create a service account key. The service account key is text stored in the JavaScript Object Notation (JSON) format. It contains information about the GCP resources you have permission to access. You can either create a new GCP project, or generate a new service account key inside an existing GCP project.

== Create a New Set of GCP Credentials

To create a new set of GCP credentials you will need to:

1. Create a new project.
2. Enable the Google Compute Engine API.
3. Create the credentials.

=== Create a New Project

Log into the https://console.cloud.google.com[Google Cloud Console]. Click *Select a Project* on the top left navigation bar.

image::click-project.png[Google Container Engine: Click Project]

In the pop-up window which appears, click *NEW PROJECT* to create a new project.

Fill in "Astra" as the Project name, select the organization you want to use, then click *CREATE* to create the project.

image::create-new-project.png[Create new GCP project]

It may take a few moments for the project to be created. After the task is complete, you will be redirected to your dashboard.

=== Enable the Google Compute Engine API

Next, use the API Manager to enable the Google Compute Engine API for this project. From the https://console.cloud.google.com[Google Cloud Console], click **APIs & Services > Dashboard**.

image::click-api-manager.png[Google Container Engine: API Manager]

This takes you to the API Manager Dashboard. Click **+ENABLE APIS AND SERVICES**.

image::enable-api.png[Google Container Engine: Enable API]

This takes you to the API Library. Search for **Compute Engine API**, then click on it in the search results.

image::compute-engine-api.png[Google Compute Engine: Click Compute Engine API]

This takes you to the Compute Engine API page. Click **ENABLE** to enable the API.

image::click-enable-api.png[Google Compute Engine: Click ENABLE]

=== Create Credentials and Service Account

After you create the new project, you will be redirected to the Google Compute Engine API Overview page (**APIs and Services > Credentials**.

Click **+ CREATE CREDENTIALS** to create credentials.

image::create-credentials.png[Google Container Engine: Create Credentials]

Choose **Service account** from the drop-down menu which appears.

Fill in the new Service account name, ID, and description for the Service account you want to create for this project. Click **CREATE** to continue.

Next, grant this Service account permissions for your project. Select a role, then click **Continue** to continue.

On the final step, **Grant users access to this service account (optional)** click **+ CREATE KEY** to create a private key.

image::optional-create-key.png[Create key]

Select `JSON` as the key type. Click **CREATE** to download the JSON credentials.

image::create-service-account-key.png[Google Container Engine: Service account key]

When you register a new cluster with Project Astra, find this `.json` file in your Downloads folder and open it with a plaintext editor like Notepad. Copy and paste the contents of this key into the related field of the registration workflow.

== Find Your Existing GCE Credentials

You can only view or download the Service Account JSON file when you create the key. However, you can create a new key at any time.

=== Create a New GCE Service Account Key

Log in to the https://console.cloud.google.com[Google cloud console]. Click **IAM & Admin > Service Accounts**.

image::iam-service-accounts.png[Google Container Engine]

Click the Service Account for which you need to generate a new key.

image::select-service-account.png[Google Container Engine]

On the Service account details page, click **CREATE KEY**.

image::create-key.png[Google Container Engine]

Select `JSON` as the key type. Click **CREATE** to download the JSON credentials.

image::create-service-account-key.png[Google Container Engine: Service account key]

When you register a new cluster with Project Astra, find this `.json` file in your Downloads folder and open it with a plaintext editor like Notepad. Copy and paste the contents of this key into the related field of the registration workflow.
